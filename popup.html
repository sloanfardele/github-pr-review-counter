<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GitHub PR Review Counter</title>
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div class="container">
    <header>
      <h1>ðŸ“Š PR Review Counter</h1>
    </header>

    <div id="auth-section" class="section hidden">
      <p>Enter your GitHub Personal Access Token</p>
      <div class="form-group">
        <input type="password" id="token-input" placeholder="ghp_xxxxxxxxxxxx">
      </div>
      <button id="connect-btn" class="btn btn-primary">Connect GitHub</button>
      <p class="help-text">
        <a href="https://github.com/settings/tokens/new" target="_blank" rel="noopener">Create a token</a> 
        with <strong>repo</strong> and <strong>read:org</strong> scopes
      </p>
    </div>

    <div id="config-section" class="section hidden">
      <div class="form-group">
        <label for="org-input">GitHub Organization:</label>
        <input type="text" id="org-input" placeholder="e.g., microsoft">
      </div>
      <div class="form-group">
        <label for="team-input">Team Slug:</label>
        <input type="text" id="team-input" placeholder="e.g., developers">
      </div>
      <button id="save-config-btn" class="btn btn-primary">Save & Load Data</button>
      <p class="help-text">Find team slug in your GitHub team URL: github.com/orgs/ORG/teams/TEAM-SLUG</p>
    </div>

    <div id="loading-section" class="section hidden">
      <div class="loader"></div>
      <p>Loading PR review data...</p>
    </div>

    <div id="results-section" class="section hidden">
      <div class="stats-header">
        <h2>Team PR Reviews</h2>
        <button id="refresh-btn" class="btn btn-secondary">ðŸ”„ Refresh</button>
      </div>
      <div id="stats-container"></div>
      <button id="logout-btn" class="btn btn-link">Disconnect GitHub</button>
    </div>

    <div id="error-section" class="section hidden">
      <div class="error-message">
        <p id="error-text"></p>
      </div>
      <button id="retry-btn" class="btn btn-primary">Try Again</button>
    </div>
  </div>

  <script src="popup.js"></script>
</body>
</html>
